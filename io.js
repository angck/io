/*!
 * io.js v0.1.0
 * https://github.com/snandy/io
 * @snandy 2013-04-03 14:56:41
 *
 */
~function(t,e){function n(t,e,n){if(t.length===+t.length){for(var r=0;t.length>r;r++)if(e.call(n,t[r],r,t)===!0)return}else for(var o in t)if(e.call(n,t[o],o,t)===!0)return}function r(t){var e=[];return n(t,function(t,r){a.isArray(t)?n(t,function(t){e.push(r+"="+encodeURIComponent(t))}):e.push(r+"="+encodeURIComponent(t))}),e.join("&")}function o(t){try{return JSON.parse(t)}catch(e){try{return Function("return "+t)()}catch(e){}}}function c(){}var a={},i=Object.prototype.toString;n(["Array","Boolean","Function","Object","String","Number","RegExp"],function(t){a["is"+t]=function(e){return i.call(e)==="[object "+t+"]"}}),~function(a){function i(t,n){a.isObject(t)&&(n=t,t=n.url);var o,i,l,n=n||{},f=n.async!==!1,p=n.method||"GET",d=n.type||"text",h=n.encode||"UTF-8",m=n.timeout||0,j=n.credential,b=n.data,y=n.scope,v=n.success||c,g=n.failure||c;return p=p.toUpperCase(),a.isObject(b)&&(b=r(b)),"GET"===p&&b&&(t+=(-1===t.indexOf("?")?"?":"&")+b),(o=u())?(i=!1,f&&m>0&&(l=setTimeout(function(){i=!0,o.abort()},m)),o.onreadystatechange=function(){4===o.readyState&&(i?g(o,"request timeout"):(s(o,d,v,g,y),clearTimeout(l)))},o.open(p,t,f),j&&(o.withCredentials=!0),"POST"==p&&o.setRequestHeader("Content-type","application/x-www-form-urlencoded;charset="+h),o.send(b),o):e}function s(t,n,r,c,a){var i,s=t.status;if(s>=200&&300>s){switch(n){case"text":i=t.responseText;break;case"json":i=o(t.responseText);break;case"xml":i=t.responseXML}i!==e&&r.call(a,i)}else c(t,t.status);t=null}var u=t.XMLHttpRequest?function(){try{return new t.XMLHttpRequest}catch(e){}}:function(){try{return new t.ActiveXObject("Microsoft.XMLHTTP")}catch(e){}},l={method:["get","post"],type:["text","json","xml"]};a.ajax=i,n(l,function(t,e){n(t,function(t){a[t]=function(t,e){return function(n,r){return a.isObject(n)&&(r=n),r=r||{},r[t]=e,i(n,r)}}(e,t)})})}(a),~function(n){function o(){var t="",e=[],n=0,r="0123456789ABCDEF";for(n=0;32>n;n++)e[n]=r.substr(Math.floor(16*Math.random()),1);return e[12]="4",e[16]=r.substr(8|3&e[16],1),t="jsonp_"+e.join("")}function a(a,d){function h(n){n?p=!0:v.call(g),C.onload=C.onerror=C.onreadystatechange=null,l&&C.parentNode&&(l.removeChild(C),C=null,t[x]=e)}function m(){setTimeout(function(){p||h()},f)}n.isObject(a)&&(d=a,a=d.url);var a=a+"?",j=d.param,b=d.charset,y=d.success||c,v=d.failure||c,g=d.scope||t,T=d.timestamp,O=d.jsonpName||"callback",x=d.jsonpCallback||o();n.isObject(j)&&(j=r(j));var C=u.createElement("script");i?C.onreadystatechange=function(){var t=this.readyState;p||"loaded"!=t&&"complete"!=t||h(!0)}:(C.onload=function(){h(!0)},C.onerror=function(){h()},s&&m()),a+=O+"="+x,b&&(C.charset=b),j&&(a+="&"+j),T&&(a+="&ts=",a+=(new Date).getTime()),t[x]=function(t){y.call(g,t)},C.src=a,l.insertBefore(C,l.firstChild)}var i=!-[1],s=t.opera,u=t.document,l=u.head||u.getElementsByTagName("head")[0],f=3e3,p=!1;n.jsonp=a}(a),t.IO=a}(this);